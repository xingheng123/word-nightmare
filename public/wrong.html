<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>单词噩梦 - 错题本（傻龙）</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-6">

  <h1 class="text-3xl font-bold text-red-600 mb-6">🐉 傻龙错题本</h1>

  <div id="list" class="w-full max-w-3xl bg-white p-6 rounded shadow">
    <p class="text-gray-500">正在加载错题...</p>
  </div>

  <div class="mt-6 space-x-2">
    <button onclick="clearWrong()" class="px-4 py-2 bg-red-500 text-white rounded">清空错题本</button>
    <a href="index.html" class="px-4 py-2 bg-green-500 text-white rounded">返回首页</a>
  </div>

  <script>
  function loadWrong() {
    let wrongList = JSON.parse(localStorage.getItem("wrongWords") || "[]");
    let listDiv = document.getElementById("list");

    if (wrongList.length === 0) {
      listDiv.innerHTML = "<p class='text-gray-500'>🎉 恭喜，没有错题！</p>";
      return;
    }

    let html = `<table class="w-full text-left border">
                  <thead class="bg-gray-200">
                    <tr>
                      <th class="p-2 border">#</th>
                      <th class="p-2 border">英文</th>
                      <th class="p-2 border">中文</th>
                      <th class="p-2 border">练习方向</th>
                    </tr>
                  </thead>
                  <tbody>`;

    wrongList.forEach((item, idx) => {
      html += `<tr>
                <td class="p-2 border">${idx + 1}</td>
                <td class="p-2 border">${item.en}</td>
                <td class="p-2 border">${item.zh}</td>
                <td class="p-2 border">${item.mode === "en-zh" ? "英译中" : "中译英"}</td>
              </tr>`;
    });

    html += "</tbody></table>";
    listDiv.innerHTML = html;
  }

  function clearWrong() {
    if (confirm("确定要清空错题本吗？")) {
      localStorage.removeItem("wrongWords");
      loadWrong();
    }
  }

  loadWrong();
  </script>
</body>
</html>
