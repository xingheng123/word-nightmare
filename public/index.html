<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>单词噩梦 ‐ 翻译练习</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 flex flex-col items-center justify-center min-h-screen">

  <div class="bg-white shadow-md rounded p-6 w-full max-w-md">
    <h1 class="text-3xl font-bold mb-6">📘 单词噩梦</h1>

    <input id="inputWord" type="text" placeholder="输入英文单词" 
           class="w-full border rounded px-3 py-2 mb-4" />
    <button onclick="translateWord()" class="w-full bg-blue-500 text-white px-4 py-2 rounded mb-4">
      翻译
    </button>

    <div id="output" class="text-lg text-center text-green-700 mb-4"></div>

    <a href="challenge.html" class="underline text-blue-600">进入闯关模式 🚀</a><br/>
    <a href="wrong.html" class="underline text-red-600 mt-2">错题库</a>
  </div>

  <script>
    async function translateWord() {
      const word = document.getElementById('inputWord').value.trim();
      if (!word) {
        alert("请输入单词");
        return;
      }
      try {
        const res = await fetch(`/api/baiduTranslate?word=${encodeURIComponent(word)}`);
        const data = await res.json();
        if (data.trans_result && data.trans_result[0]) {
          document.getElementById('output').innerText = data.trans_result[0].dst;
        } else {
          document.getElementById('output').innerText = "翻译失败：" + (data.error || "未知错误");
        }
      } catch (err) {
        document.getElementById('output').innerText = "请求失败，请检查配置";
      }
    }
  </script>

</body>
</html>
