<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>å•è¯å™©æ¢¦ - é¦–é¡µ</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">
  <header class="bg-blue-500 text-white p-4 text-center text-2xl font-bold">
    å•è¯å™©æ¢¦ Word Nightmare
  </header>

  <main class="p-6 max-w-2xl mx-auto space-y-6">
    <h1 class="text-3xl font-bold text-center">æ¬¢è¿æ¥åˆ°å•è¯å™©æ¢¦</h1>
    <p class="text-center text-gray-600">é€‰æ‹©å­¦ä¹ æ¨¡å¼ï¼Œæˆ–è€…ç›´æ¥æŸ¥å•è¯ã€‚</p>

    <!-- ğŸ” æœç´¢æ¡† -->
    <section class="bg-white shadow rounded p-4">
      <h2 class="text-xl font-semibold mb-2">éšæ‰‹æŸ¥å•è¯</h2>
      <div class="flex space-x-2">
        <input id="searchInput" type="text" placeholder="è¾“å…¥è‹±æ–‡æˆ–ä¸­æ–‡"
          class="flex-1 border rounded p-2">
        <button onclick="searchWord()"
          class="bg-blue-500 text-white px-4 py-2 rounded">æœç´¢</button>
      </div>
      <p id="searchResult" class="mt-3 text-gray-700"></p>
    </section>

    <!-- ğŸ® æ¨¡å¼é€‰æ‹© -->
    <section class="bg-white shadow rounded p-4">
      <h2 class="text-xl font-semibold mb-2">æ¨¡å¼é€‰æ‹©</h2>
      <div class="flex flex-col space-y-3">
        <a href="challenge.html"
           class="bg-green-500 text-white p-3 rounded text-center hover:bg-green-600">é—¯å…³æ¨¡å¼</a>
        <a href="wrong.html"
           class="bg-red-500 text-white p-3 rounded text-center hover:bg-red-600">å‚»é¾™é”™é¢˜æœ¬</a>
      </div>
    </section>
  </main>

  <script>
    async function searchWord() {
      const q = document.getElementById("searchInput").value.trim();
      if (!q) return alert("è¯·è¾“å…¥è¦æŸ¥è¯¢çš„å•è¯æˆ–è¯è¯­ï¼");
      try {
        const res = await fetch(`/api/baiduTranslate?q=${encodeURIComponent(q)}`);
        const data = await res.json();
        document.getElementById("searchResult").innerText = 
          data?.trans_result?.[0]?.dst || "æœªæ‰¾åˆ°ç»“æœ";
      } catch (e) {
        document.getElementById("searchResult").innerText = "æŸ¥è¯¢å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚";
      }
    }
  </script>
</body>
</html>
